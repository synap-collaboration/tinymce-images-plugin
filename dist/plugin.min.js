'use strict';function initPlugin(){var a=function(a,b){var c=a.dom.create('img',{id:'tinymce-new-image-'+b.name});a.selection.setNode(c);var d=new FileReader;d.readAsDataURL(b),d.onload=function(){var c=d.result;a.dom.setAttrib('*[id="tinymce-new-image-'+b.name+'"]',{src:src,base64Data:c});var e=a.getParam('images_upload_handler');e(b,function(c){a.dom.setAttrib('*[id="tinymce-new-image-'+b.name+'"]',{src:src,url:c,id:null})},function(){alert('Upload failed')})}};tinymce.create('tinymce.plugins.SynapImages',{init:function c(b){b.addButton('upload-button',{icon:'image',tooltip:'Insert an image',onClick:function d(){var c=document.createElement('input');c.setAttribute('type','file'),c.setAttribute('accept','image/*'),c.onchange=function(c){c.preventDefault();var d=c.target.files;d.length&&a(b,d[0])},c.click()}})},getInfo:function a(){return{longname:'synap-images',author:'Jesse Cooper',version:tinymce.majorVersion+'.'+tinymce.minorVersion}}}),tinymce.PluginManager.add('synap-images',tinymce.plugins.SynapImages)}initPlugin();
